<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VYSAKH</title>

<link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Space+Mono&display=swap" rel="stylesheet">

<!-- PRISM (Better Theme + Line Numbers) -->
<link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-okaidia.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.css" rel="stylesheet"/>

<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-css.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markup.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markdown.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
background:#000;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:'Space Mono',monospace;
overflow:hidden;
}

/* Background */
.bg-video{
position:fixed;
inset:0;
width:100%;
height:100%;
object-fit:cover;
filter:brightness(.3);
z-index:-1;
}

/* Card */
.profile-card{
width:460px;
padding:50px;
background:rgba(255,255,255,.04);
backdrop-filter:blur(20px);
border:1px solid rgba(0,242,255,.3);
text-align:center;
transition:.3s;
animation:float 6s infinite ease-in-out;
}

@keyframes float{
50%{transform:translateY(-8px);}
}

.secret{
border-color:#ff0055;
box-shadow:0 0 40px #ff0055;
}

h1{
font-family:'Syncopate';
letter-spacing:10px;
color:white;
}

.subtitle{
color:#00f2ff;
font-size:.7rem;
margin-top:10px;
}

.stats{
display:flex;
justify-content:space-around;
margin-top:25px;
border-top:1px solid rgba(255,255,255,.1);
padding-top:20px;
}

.stat-val{
display:block;
color:#ff0055;
}

.code-line{
margin-top:20px;
color:#aaa;
font-size:.8rem;
}

/* Dev Panel */
.dev-panel{
margin-top:25px;
text-align:left;
max-height:220px;
overflow:auto;
font-size:.8rem;
}

.hidden{display:none;}

.file{
padding:6px;
color:white;
cursor:pointer;
border-radius:4px;
}

.file:hover{
background:rgba(0,242,255,.15);
}

.folder{color:#00f2ff;}

.back{
color:#ff0055;
cursor:pointer;
margin-right:10px;
}

/* Viewer */
.viewer{
position:fixed;
inset:40px;
background:#111;
border:1px solid #00f2ff;
padding:20px;
z-index:999;
display:flex;
flex-direction:column;
}

.viewer-top{
display:flex;
justify-content:space-between;
align-items:center;
color:#00f2ff;
margin-bottom:15px;
}

#copy-file{
background:#00f2ff;
border:none;
padding:6px 12px;
cursor:pointer;
font-size:.8rem;
margin-right:10px;
border-radius:4px;
}

#copy-file:hover{
background:#ff0055;
color:white;
}

#close-viewer{
cursor:pointer;
color:#ff0055;
font-size:1rem;
}

pre{
flex:1;
overflow:auto;
border-radius:6px;
}

/* Scrollbar */
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-thumb{background:#00f2ff;}

</style>
</head>

<body>

<video class="bg-video" autoplay muted loop playsinline>
<source src="https://assets.mixkit.co/videos/preview/mixkit-star-field-background-animation-loop-3037-large.mp4">
</video>

<div class="profile-card">

<h1 id="name">VYSAKH</h1>
<div class="subtitle">BCA STUDENT // YEAR I</div>

<div class="stats">
<div>SKILL<span class="stat-val">NULL</span></div>
<div>LVL<span class="stat-val">01</span></div>
<div>STATUS<span class="stat-val">GRINDING</span></div>
</div>

<p class="code-line"></p>

<div id="dev-panel" class="dev-panel hidden">
<p><span id="back-btn" class="back hidden">â¬… Back</span> Repository Explorer</p>
<div id="repo-files"></div>
</div>

</div>

<!-- File Viewer -->
<div id="file-viewer" class="viewer hidden">
<div class="viewer-top">
<span id="file-name"></span>
<div>
<button id="copy-file">ðŸ“‹ Copy</button>
<span id="close-viewer">âœ–</span>
</div>
</div>

<pre class="line-numbers">
<code id="file-content"></code>
</pre>
</div>

<script>

/* Elements */
const name=document.getElementById("name");
const card=document.querySelector(".profile-card");
const line=document.querySelector(".code-line");
const repoContainer=document.getElementById("repo-files");
const backBtn=document.getElementById("back-btn");
const viewer=document.getElementById("file-viewer");
const fileContent=document.getElementById("file-content");
const fileName=document.getElementById("file-name");

let currentText="";

/* Typewriter */
const text="> initializing developer...";
let i=0;
(function type(){
if(i<text.length){
line.innerText+=text[i++];
setTimeout(type,40);
}})();

/* Secret Mode */
function activateSecret(){
card.classList.toggle("secret");
document.getElementById("dev-panel").classList.toggle("hidden");
loadRepo();
}

/* Desktop */
document.addEventListener("keydown",e=>{
if(e.key==="/")activateSecret();
});

/* Mobile */
let taps=0,hold;
document.addEventListener("touchstart",()=>{
taps++;
if(taps===3){
hold=setTimeout(()=>{
activateSecret();
taps=0;
},800);
}
setTimeout(()=>taps=0,600);
});
document.addEventListener("touchend",()=>clearTimeout(hold));

/* GitHub Explorer */
const repoAPI="https://api.github.com/repos/EphemeralYe/SGC/contents";
let historyStack=[];

async function loadRepo(path=""){
repoContainer.innerHTML="loading...";
backBtn.classList.toggle("hidden",historyStack.length===0);

const res=await fetch(repoAPI+"/"+path);
const data=await res.json();

repoContainer.innerHTML="";

data.forEach(item=>{
const div=document.createElement("div");
div.className="file "+(item.type==="dir"?"folder":"");
div.innerHTML=(item.type==="dir"?"ðŸ“ ":"ðŸ“„ ")+item.name;

div.onclick=()=>{
if(item.type==="dir"){
historyStack.push(path);
loadRepo(item.path);
}else{
openFile(item);
}
};

repoContainer.appendChild(div);
});
}

backBtn.onclick=()=>{
loadRepo(historyStack.pop()||"");
};

/* Language Detect */
function detectLanguage(name){
const ext=name.split(".").pop();
return{
js:"javascript",
html:"markup",
css:"css",
json:"json",
md:"markdown"
}[ext]||"markup";
}

/* Open File */
async function openFile(file){
viewer.classList.remove("hidden");
fileName.innerText="> "+file.name;

const res=await fetch(file.download_url);
const txt=await res.text();

currentText=txt;

fileContent.className="language-"+detectLanguage(file.name);
fileContent.textContent=txt;

Prism.highlightElement(fileContent);
}

/* Close */
document.getElementById("close-viewer")
.onclick=()=>viewer.classList.add("hidden");

/* Copy */
document.getElementById("copy-file")
.onclick=async()=>{
await navigator.clipboard.writeText(currentText);
const btn=document.getElementById("copy-file");
btn.innerText="âœ… Copied!";
setTimeout(()=>btn.innerText="ðŸ“‹ Copy",1500);
};

</script>

</body>
</html>
