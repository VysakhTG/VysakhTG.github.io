<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>VYSAKH</title>

<link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Space+Mono&display=swap" rel="stylesheet">

<!-- PRISM SYNTAX -->
<link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-css.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markup.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markdown.min.js"></script>

<style>

*{margin:0;padding:0;box-sizing:border-box;cursor:crosshair;}

body{
background:#000;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:'Space Mono';
overflow:hidden;
}

/* VIDEO */
.bg-video{
position:fixed;
inset:0;
width:100%;
height:100%;
object-fit:cover;
z-index:-1;
filter:brightness(.3);
}

/* CARD */
.profile-card{
width:450px;
padding:50px;
background:rgba(255,255,255,.03);
backdrop-filter:blur(20px);
border:1px solid rgba(0,242,255,.3);
text-align:center;
animation:float 6s infinite;
transition:.2s;
}

@keyframes float{
50%{transform:translateY(-10px);}
}

.secret{
border-color:#ff0055;
box-shadow:0 0 40px #ff0055;
}

h1{
font-family:'Syncopate';
letter-spacing:12px;
color:white;
}

.subtitle{
color:#00f2ff;
font-size:.7rem;
margin-top:10px;
}

.stats{
display:flex;
justify-content:space-around;
margin-top:25px;
border-top:1px solid rgba(255,255,255,.1);
padding-top:20px;
}

.stat-val{
display:block;
color:#ff0055;
}

.code-line{
margin-top:20px;
color:#aaa;
}

/* DEV PANEL */
.dev-panel{
margin-top:25px;
text-align:left;
max-height:220px;
overflow:auto;
font-size:.75rem;
}

.hidden{display:none;}

.file{
padding:6px;
color:white;
cursor:pointer;
}

.file:hover{
background:rgba(0,242,255,.15);
}

.folder{color:#00f2ff;}

.back{
color:#ff0055;
cursor:pointer;
margin-right:10px;
}

/* VIEWER */
.viewer{
position:fixed;
inset:40px;
background:#000;
border:1px solid #00f2ff;
padding:15px;
z-index:999;
overflow:auto;
}

.viewer-top{
display:flex;
justify-content:space-between;
color:#00f2ff;
margin-bottom:10px;
}

#download-file{
background:#00f2ff;
border:none;
padding:5px 10px;
cursor:pointer;
margin-right:10px;
}

#download-file:hover{
background:#ff0055;
color:white;
}

#close-viewer{
cursor:pointer;
color:#ff0055;
}

pre{
white-space:pre-wrap;
}

</style>
</head>

<body>

<video class="bg-video" autoplay muted loop playsinline>
<source src="https://assets.mixkit.co/videos/preview/mixkit-star-field-background-animation-loop-3037-large.mp4">
</video>

<div class="profile-card">

<h1 id="name">VYSAKH</h1>
<div class="subtitle">BCA STUDENT // YEAR I</div>

<div class="stats">
<div>SKILL<span class="stat-val">NULL</span></div>
<div>LVL<span class="stat-val">01</span></div>
<div>STATUS<span class="stat-val">GRINDING</span></div>
</div>

<p class="code-line"></p>

<!-- DEV PANEL -->
<div id="dev-panel" class="dev-panel hidden">
<p>
<span id="back-btn" class="back hidden">â¬… Back</span>
> Repository Explorer
</p>
<div id="repo-files"></div>
</div>

</div>

<!-- FILE VIEWER -->
<div id="file-viewer" class="viewer hidden">

<div class="viewer-top">
<span id="file-name"></span>
<div>
<button id="download-file">â¬‡ Download</button>
<span id="close-viewer">âœ–</span>
</div>
</div>

<pre><code id="file-content"></code></pre>

</div>

<script>

/* ELEMENTS */
const name=document.getElementById("name");
const card=document.querySelector(".profile-card");
const line=document.querySelector(".code-line");

const repoContainer=document.getElementById("repo-files");
const backBtn=document.getElementById("back-btn");

const viewer=document.getElementById("file-viewer");
const fileContent=document.getElementById("file-content");
const fileName=document.getElementById("file-name");

let currentFileURL="";
let currentFileName="";

/* TYPE */
const text="> initializing developer...";
let i=0;
(function type(){
if(i<text.length){
line.innerText+=text[i++];
setTimeout(type,40);
}})();

/* GLITCH */
const chars="VYSAKH/ãƒ´ã‚¤ã‚µã‚¯";
name.onmouseover=()=>{
let it=0;
const inter=setInterval(()=>{
name.innerText=name.innerText.split("")
.map((c,i)=>i<it?chars[i]:
String.fromCharCode(65+Math.random()*26))
.join("");
if(it>=chars.length)clearInterval(inter);
it+=1/3;
},30);
};

/* PARALLAX */
document.addEventListener("mousemove",e=>{
const x=(innerWidth/2-e.pageX)/30;
const y=(innerHeight/2-e.pageY)/30;
card.style.transform=
`rotateY(${x}deg) rotateX(${y}deg)`;
});

/* LANGUAGE */
function detectLanguage(f){
const e=f.split(".").pop();
return{
js:"javascript",
html:"markup",
css:"css",
json:"json",
md:"markdown"
}[e]||"markup";
}

/* FILE VIEW */
async function openFile(file){

viewer.classList.remove("hidden");

fileName.innerText="> "+file.name;

currentFileURL=file.download_url;
currentFileName=file.name;

fileContent.textContent="loading...";

const res=await fetch(file.download_url);
const txt=await res.text();

fileContent.className=
"language-"+detectLanguage(file.name);

fileContent.textContent=txt;

Prism.highlightElement(fileContent);
}

document.getElementById("close-viewer")
.onclick=()=>viewer.classList.add("hidden");

/* DOWNLOAD */
document.getElementById("download-file")
.onclick=()=>{
const a=document.createElement("a");
a.href=currentFileURL;
a.download=currentFileName;
a.click();
};

/* GITHUB */
const repoAPI=
"https://api.github.com/repos/EphemeralYe/SGC/contents";

let historyStack=[];

async function loadRepo(path=""){

repoContainer.innerHTML="loading...";

backBtn.classList
.toggle("hidden",
historyStack.length===0);

const res=await fetch(repoAPI+"/"+path);
const data=await res.json();

repoContainer.innerHTML="";

data.forEach(item=>{
const div=document.createElement("div");

div.className=
"file "+(item.type==="dir"
?"folder":"");

div.innerHTML=
(item.type==="dir"
?"ðŸ“ ":"ðŸ“„ ")+item.name;

div.onclick=()=>{
if(item.type==="dir"){
historyStack.push(path);
loadRepo(item.path);
}else{
openFile(item);
}
};

repoContainer.appendChild(div);
});
}

backBtn.onclick=()=>{
loadRepo(historyStack.pop()||"");
};

/* SECRET MODE */
function activateSecret(){
card.classList.toggle("secret");
document
.getElementById("dev-panel")
.classList.toggle("hidden");

historyStack=[];
loadRepo();

navigator.vibrate?.(200);
}

/* DESKTOP */
document.addEventListener(
"keydown",
e=>{if(e.key==="/")activateSecret();}
);

/* MOBILE */
let taps=0,hold;
document.addEventListener("touchstart",()=>{
taps++;
if(taps===3){
hold=setTimeout(()=>{
activateSecret();
taps=0;
},800);
}
setTimeout(()=>taps=0,600);
});
document.addEventListener(
"touchend",
()=>clearTimeout(hold)
);

</script>

</body>
</html>
